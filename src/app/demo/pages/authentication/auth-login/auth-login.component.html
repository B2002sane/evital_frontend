<div class="connexion-container">
  <div class="connexion-card">
    <div class="left-panel">
      <div class="logo">
        <img src="logo.png" alt="Evital Klinik Logo">
      </div>
      
      <div class="login-form">
        <h2>SE CONNECTER</h2>
        <p class="subtitle">Espace M√©decins - Acc√©dez √† vos services en toute s√©curit√©</p>
        
        <div *ngIf="isLocked" class="locked-account-warning">
          <div class="lock-icon">üîí</div>
          <p>Compte temporairement bloqu√© suite √† trop de tentatives √©chou√©es.</p>
          <p>Veuillez r√©essayer dans <span class="countdown">{{remainingTime}}</span> secondes.</p>
        </div>
        
        <form (ngSubmit)="onLogin()">
          <div class="form-group">
            <input
              type="email"
              placeholder="exemple@gmail.com"
              [(ngModel)]="email"
              name="email"
              (input)="validateEmail()"
              required
              [class.input-error]="emailError"
              [disabled]="isLocked"
              class="form-input"
            >
            <div *ngIf="emailError" class="error-text">
              {{ emailError }}
            </div>
          </div>
          
          <div class="form-group">
            <input
              [type]="showPassword ? 'text' : 'password'"
              placeholder="Mot de passe"
              [(ngModel)]="password"
              name="password"
              (input)="validatePassword()"
              required
              [class.input-error]="passwordError"
              [disabled]="isLocked"
              class="form-input"
            >
            <span class="password-toggle" (click)="togglePasswordVisibility()" *ngIf="!isLocked">
              {{ showPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è' }}
            </span>
            <div *ngIf="passwordError" class="error-text">
              {{ passwordError }}
            </div>
          </div>
          
          <div *ngIf="failedAttempts > 0 && failedAttempts < 3 && !isLocked" class="attempts-warning">
            Attention: {{failedAttempts}}/3 tentatives √©chou√©es
          </div>
          
          <button type="submit" class="btn-submit" [disabled]="isLoading || !isFormValid() || isLocked">
            <span *ngIf="!isLoading">CONNEXION</span>
            <span *ngIf="isLoading">
              <div class="spinner"></div> Chargement...
            </span>
          </button>
        </form>
        
        <div *ngIf="serverError" class="error-message">
          {{ serverError }}
        </div>
        
        <p class="rfid-text">
          Ou par carte RFID: <a href="#" (click)="onRfidLogin($event)" [class.disabled]="isLocked">Approchez votre carte au lecteur</a>
        </p>
      </div>
    </div>
    
    <div class="right-panel">
      <img src="img_medecin.png" alt="Medical Dashboard Illustration">
    </div>
  </div>
</div>